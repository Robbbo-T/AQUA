<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INS-01 Strategic Network Dashboard</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 10px;
        }

        .header .subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.2rem;
        }

        .classification {
            background: #e74c3c;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .card h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.5rem;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .kpi-card {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(116, 185, 255, 0.3);
        }

        .kpi-card.success {
            background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
        }

        .kpi-card.warning {
            background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
            box-shadow: 0 4px 15px rgba(253, 203, 110, 0.3);
        }

        .kpi-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .kpi-label {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .kpi-target {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .network-viz {
            height: 500px;
            border-radius: 8px;
            background: #f8f9fa;
        }

        .chart-container {
            height: 400px;
            margin-top: 15px;
        }

        .scenario-panel {
            grid-column: 1 / -1;
        }

        .scenario-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .scenario-tab {
            padding: 10px 20px;
            background: #ecf0f1;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scenario-tab.active {
            background: #3498db;
            color: white;
        }

        .scenario-content {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-success { background: #27ae60; }
        .status-warning { background: #f39c12; }
        .status-error { background: #e74c3c; }

        .quantum-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .quantum-metric {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            color: white;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
        }

        .footer {
            text-align: center;
            padding: 20px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .kpi-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>INS-01 Strategic Network Dashboard</h1>
        <p class="subtitle">QAOA Max-Cut Multiobjetivo | Supply Chain Optimization</p>
        <div style="text-align: center; margin-top: 15px;">
            <span class="classification">CONFIDENTIAL - PROPRIETARY</span>
            <span style="margin-left: 20px; color: #7f8c8d;">Document ID: AQUART-INDUSTRY-SUPL-VIS-INS01-dashboard-v1.0</span>
        </div>
    </div>

    <div class="container">
        <!-- KPI Overview -->
        <div class="card">
            <h2>Key Performance Indicators</h2>
            <div class="kpi-grid">
                <div class="kpi-card success">
                    <div class="kpi-label">Resilience Index</div>
                    <div class="kpi-value">0.87</div>
                    <div class="kpi-target">Target: ≥0.85 <span class="status-indicator status-success"></span></div>
                </div>
                <div class="kpi-card success">
                    <div class="kpi-label">TCO Reduction</div>
                    <div class="kpi-value">23%</div>
                    <div class="kpi-target">Target: ≥20% <span class="status-indicator status-success"></span></div>
                </div>
                <div class="kpi-card success">
                    <div class="kpi-label">CO₂ Reduction</div>
                    <div class="kpi-value">34%</div>
                    <div class="kpi-target">Target: ≥30% <span class="status-indicator status-success"></span></div>
                </div>
                <div class="kpi-card success">
                    <div class="kpi-label">Quantum Advantage</div>
                    <div class="kpi-value">1.8x</div>
                    <div class="kpi-target">Target: ≥1.5x <span class="status-indicator status-success"></span></div>
                </div>
            </div>
        </div>

        <div class="dashboard-grid">
            <!-- Network Visualization -->
            <div class="card">
                <h2>Strategic Network Partition</h2>
                <div id="network-viz" class="network-viz"></div>
            </div>

            <!-- Optimization Metrics -->
            <div class="card">
                <h2>Optimization Performance</h2>
                <div id="performance-chart" class="chart-container"></div>
                
                <div class="quantum-metrics">
                    <div class="quantum-metric">
                        <div style="font-size: 1.2rem; font-weight: bold;">64</div>
                        <div style="font-size: 0.9rem;">Qubits Used</div>
                    </div>
                    <div class="quantum-metric">
                        <div style="font-size: 1.2rem; font-weight: bold;">12.3s</div>
                        <div style="font-size: 0.9rem;">Runtime</div>
                    </div>
                    <div class="quantum-metric">
                        <div style="font-size: 1.2rem; font-weight: bold;">2048</div>
                        <div style="font-size: 0.9rem;">Shots</div>
                    </div>
                </div>
            </div>

            <!-- Risk Analysis -->
            <div class="card">
                <h2>Risk Distribution Analysis</h2>
                <div id="risk-chart" class="chart-container"></div>
            </div>

            <!-- Sustainability Metrics -->
            <div class="card">
                <h2>Sustainability Impact</h2>
                <div id="sustainability-chart" class="chart-container"></div>
            </div>
        </div>

        <!-- Permacrisis Scenarios -->
        <div class="card scenario-panel">
            <h2>Permacrisis Scenario Analysis</h2>
            <div class="scenario-tabs">
                <button class="scenario-tab active" onclick="switchScenario('supply')">Supply Disruption</button>
                <button class="scenario-tab" onclick="switchScenario('demand')">Demand Spike</button>
                <button class="scenario-tab" onclick="switchScenario('geopolitical')">Geopolitical Risk</button>
            </div>
            <div id="scenario-content" class="scenario-content">
                <div id="supply-scenario">
                    <h3>Supply Disruption Scenario</h3>
                    <p><strong>Probability:</strong> 15% | <strong>Impact:</strong> High (0.8)</p>
                    <p><strong>Affected Nodes:</strong> Suppliers 0, 4 (Asia-Europe corridor)</p>
                    <p><strong>Risk Multiplier:</strong> 2.0x | <strong>Cost Multiplier:</strong> 1.3x</p>
                    <p><strong>Mitigation:</strong> Partition-based redundancy maintains 87% resilience</p>
                    <div style="margin-top: 15px;">
                        <div style="background: #e8f5e8; padding: 10px; border-radius: 4px; border-left: 4px solid #27ae60;">
                            ✅ <strong>Network maintains operational capability under disruption</strong>
                        </div>
                    </div>
                </div>
                <div id="demand-scenario" style="display: none;">
                    <h3>Demand Spike Scenario</h3>
                    <p><strong>Probability:</strong> 25% | <strong>Impact:</strong> Medium (0.6)</p>
                    <p><strong>Affected Nodes:</strong> Retailers 3, 7 (US, UK markets)</p>
                    <p><strong>Risk Multiplier:</strong> 1.5x | <strong>Cost Multiplier:</strong> 1.2x</p>
                    <p><strong>Mitigation:</strong> Capacity rebalancing through strategic partitioning</p>
                    <div style="margin-top: 15px;">
                        <div style="background: #e8f5e8; padding: 10px; border-radius: 4px; border-left: 4px solid #27ae60;">
                            ✅ <strong>Demand surge absorbed with minimal performance impact</strong>
                        </div>
                    </div>
                </div>
                <div id="geopolitical-scenario" style="display: none;">
                    <h3>Geopolitical Risk Scenario</h3>
                    <p><strong>Probability:</strong> 10% | <strong>Impact:</strong> Very High (0.9)</p>
                    <p><strong>Affected Routes:</strong> International trade corridors</p>
                    <p><strong>Risk Multiplier:</strong> 3.0x | <strong>Cost Multiplier:</strong> 1.5x</p>
                    <p><strong>Mitigation:</strong> Route diversification and regional clustering</p>
                    <div style="margin-top: 15px;">
                        <div style="background: #fff3cd; padding: 10px; border-radius: 4px; border-left: 4px solid #f39c12;">
                            ⚠️ <strong>High-impact scenario requires enhanced monitoring</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        AQUA Initiative | SICOCA Framework | INS-01 Strategic Network v1.0<br>
        Generated: <span id="timestamp"></span> | Classification: CONFIDENTIAL
    </div>

    <script>
        // Set current timestamp
        document.getElementById('timestamp').textContent = new Date().toLocaleString();

        // Network visualization
        function createNetworkVisualization() {
            const width = 500;
            const height = 400;

            // Sample network data
            const nodes = [
                {id: 0, type: 'supplier', partition: 0, x: 100, y: 100},
                {id: 1, type: 'manufacturer', partition: 0, x: 200, y: 150},
                {id: 2, type: 'distributor', partition: 1, x: 350, y: 100},
                {id: 3, type: 'retailer', partition: 1, x: 450, y: 200},
                {id: 4, type: 'supplier', partition: 0, x: 150, y: 250},
                {id: 5, type: 'manufacturer', partition: 1, x: 300, y: 300},
                {id: 6, type: 'distributor', partition: 1, x: 400, y: 350},
                {id: 7, type: 'retailer', partition: 0, x: 200, y: 350}
            ];

            const links = [
                {source: 0, target: 1}, {source: 0, target: 4}, {source: 1, target: 2},
                {source: 1, target: 5}, {source: 2, target: 3}, {source: 2, target: 7},
                {source: 3, target: 5}, {source: 4, target: 5}, {source: 4, target: 6},
                {source: 5, target: 6}, {source: 6, target: 7}, {source: 0, target: 2}
            ];

            const svg = d3.select("#network-viz")
                .append("svg")
                .attr("width", "100%")
                .attr("height", "100%")
                .attr("viewBox", `0 0 ${width} ${height}`);

            // Add gradient definitions
            const defs = svg.append("defs");
            
            const gradient0 = defs.append("linearGradient")
                .attr("id", "partition0")
                .attr("x1", "0%").attr("y1", "0%")
                .attr("x2", "100%").attr("y2", "100%");
            gradient0.append("stop").attr("offset", "0%").attr("stop-color", "#ff6b6b");
            gradient0.append("stop").attr("offset", "100%").attr("stop-color", "#ff5252");

            const gradient1 = defs.append("linearGradient")
                .attr("id", "partition1")
                .attr("x1", "0%").attr("y1", "0%")
                .attr("x2", "100%").attr("y2", "100%");
            gradient1.append("stop").attr("offset", "0%").attr("stop-color", "#4ecdc4");
            gradient1.append("stop").attr("offset", "100%").attr("stop-color", "#26d0ce");

            // Draw links
            svg.selectAll("line")
                .data(links)
                .enter().append("line")
                .attr("x1", d => nodes[d.source].x)
                .attr("y1", d => nodes[d.source].y)
                .attr("x2", d => nodes[d.target].x)
                .attr("y2", d => nodes[d.target].y)
                .attr("stroke", d => {
                    const sourcePartition = nodes[d.source].partition;
                    const targetPartition = nodes[d.target].partition;
                    return sourcePartition !== targetPartition ? "#e74c3c" : "#95a5a6";
                })
                .attr("stroke-width", d => {
                    const sourcePartition = nodes[d.source].partition;
                    const targetPartition = nodes[d.target].partition;
                    return sourcePartition !== targetPartition ? 3 : 2;
                })
                .attr("opacity", 0.7);

            // Draw nodes
            svg.selectAll("circle")
                .data(nodes)
                .enter().append("circle")
                .attr("cx", d => d.x)
                .attr("cy", d => d.y)
                .attr("r", 20)
                .attr("fill", d => d.partition === 0 ? "url(#partition0)" : "url(#partition1)")
                .attr("stroke", "#fff")
                .attr("stroke-width", 3);

            // Add labels
            svg.selectAll("text")
                .data(nodes)
                .enter().append("text")
                .attr("x", d => d.x)
                .attr("y", d => d.y + 5)
                .attr("text-anchor", "middle")
                .attr("fill", "white")
                .attr("font-weight", "bold")
                .text(d => d.id);

            // Add legend
            const legend = svg.append("g")
                .attr("transform", "translate(20, 20)");

            legend.append("circle")
                .attr("r", 8)
                .attr("fill", "url(#partition0)");
            legend.append("text")
                .attr("x", 15)
                .attr("y", 5)
                .text("Partition 0")
                .attr("font-size", "12px");

            legend.append("circle")
                .attr("cy", 25)
                .attr("r", 8)
                .attr("fill", "url(#partition1)");
            legend.append("text")
                .attr("x", 15)
                .attr("y", 30)
                .text("Partition 1")
                .attr("font-size", "12px");
        }

        // Performance chart
        function createPerformanceChart() {
            const data = [
                {
                    x: ['ResilienceIndex', 'TCO Reduction', 'CO₂ Reduction', 'Quantum Advantage'],
                    y: [0.87, 0.23, 0.34, 1.8],
                    type: 'bar',
                    marker: {
                        color: ['#27ae60', '#3498db', '#f39c12', '#9b59b6'],
                        opacity: 0.8
                    }
                }
            ];

            const layout = {
                title: false,
                xaxis: { title: 'Metrics' },
                yaxis: { title: 'Performance Value' },
                margin: { t: 30, r: 30, b: 60, l: 60 },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: { size: 12 }
            };

            Plotly.newPlot('performance-chart', data, layout, {responsive: true, displayModeBar: false});
        }

        // Risk distribution chart
        function createRiskChart() {
            const data = [{
                values: [0.42, 0.58],
                labels: ['Partition 0 Risk', 'Partition 1 Risk'],
                type: 'pie',
                marker: {
                    colors: ['#ff6b6b', '#4ecdc4']
                },
                textinfo: 'label+percent',
                hovertemplate: '%{label}: %{percent}<extra></extra>'
            }];

            const layout = {
                title: false,
                showlegend: true,
                margin: { t: 30, r: 30, b: 30, l: 30 },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: { size: 12 }
            };

            Plotly.newPlot('risk-chart', data, layout, {responsive: true, displayModeBar: false});
        }

        // Sustainability chart
        function createSustainabilityChart() {
            const data = [
                {
                    x: ['Baseline', 'Optimized'],
                    y: [2144.6, 1415.4],
                    type: 'bar',
                    name: 'CO₂ Emissions (tons)',
                    marker: { color: '#27ae60' }
                },
                {
                    x: ['Baseline', 'Optimized'],
                    y: [2847.3, 2192.2],
                    type: 'bar',
                    name: 'Total Cost (k€)',
                    marker: { color: '#3498db' },
                    yaxis: 'y2'
                }
            ];

            const layout = {
                title: false,
                xaxis: { title: 'Scenario' },
                yaxis: { 
                    title: 'CO₂ Emissions (tons)',
                    side: 'left'
                },
                yaxis2: {
                    title: 'Cost (k€)',
                    side: 'right',
                    overlaying: 'y'
                },
                margin: { t: 30, r: 60, b: 60, l: 60 },
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                font: { size: 12 },
                legend: { x: 0, y: 1 }
            };

            Plotly.newPlot('sustainability-chart', data, layout, {responsive: true, displayModeBar: false});
        }

        // Scenario switching
        function switchScenario(scenario) {
            // Update tab active state
            document.querySelectorAll('.scenario-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Hide all scenario content
            document.querySelectorAll('[id$="-scenario"]').forEach(content => {
                content.style.display = 'none';
            });

            // Show selected scenario
            document.getElementById(scenario + '-scenario').style.display = 'block';
        }

        // Initialize dashboard
        window.addEventListener('load', function() {
            createNetworkVisualization();
            createPerformanceChart();
            createRiskChart();
            createSustainabilityChart();
        });
    </script>
</body>
</html>